@page "/nodes"
@inject HttpClient Http
@inject Toolbelt.Blazor.I18nText.I18nText I18nText
    <div class="d-flex flex-column" style="flex:1">
        <h1>Nodes</h1>
            <table id="buses" class="table table-striped table-bordered" cellspacing="0" style="width:100%">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>@Localizer.NameBut</th>
                        <th>@Localizer.VoltageСlass</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var elem in grid.Buses)
                    {
                        <tr>
                            <td>@elem.Value.Id</td>
                            <td>@elem.Value.Name</td>
                            <td>@elem.Value.Unom</td>
                        </tr>
                    }
                </tbody>
            </table>
    </div>

@code {

    Grid grid { get; set; } = new Grid();


    //Localizator
    I18nText.Pages.Nodes Localizer = new I18nText.Pages.Nodes();

    protected override async Task OnInitializedAsync()
    {
        Localizer = await I18nText.GetTextTableAsync<I18nText.Pages.Nodes>(this);
    }
}